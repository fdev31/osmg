#!/bin/bash

function shorten() {
    sn=${1#*/}
    sn=${sn%.vue}
    echo $sn
}

if [ -n "$1" ]; then
    yarn build --target lib --name $(shorten "$1") "$1" --fix
    cp dist/*.umd.js* ../front/jscomp
else
    for component in src/*.vue; do
        yarn build --target lib --name $(shorten "$component") "$component" || exit
        cp dist/*.umd.js* ../front/jscomp
    done
fi

